---
import Layout from '../../layouts/Layout.astro';
import Columns from '../../components/Columns.astro';
import { getCollection } from 'astro:content';

const allPosts = await getCollection("blog");
const tags = [...new Set(allPosts.map((post) => post.data.tags).flat())];
---
<Layout title="tag index">
    <div>
        <p>beep boop. indexed {tags.length} tags!</p>
        <Columns>
            <ul class = "list-disc list-inside">
            {tags.map((tag) => (
                <li><a href={`/tags/${tag}`}>{tag}</a></li>
            ))}
            </ul>
        </Columns>
    </div>
</Layout>